Новый взгляд на асинхронность, в лучших традициях gevent (но по-другому!)

Некоторые уже читали мои статьи про добавление асинхронности в django.
Это не об этом. Вопрос гораздо более широкий и посвящён асинхронности в целом.

Кстати, вопрос с асинхронным django тоже решился - как побочный продукт. На полном серьёзе собираюсь использовать в продакшене при первой возможности.

Итак, асинхронность в стиле gevent - как бы это могло быть?

gevent появился немного позже django - в 2006, и предлагал необычный подход к асинхронности (twisted появился раньше их обоих, в 2002). Путём патчинга различных модулей стандартной библиотеки изначально синхронный код начинал магически работать асинхронно. Это обычно приводило к улучшению производительности веб-сервисов, ради этого gevent чаще всего и использовали.

С ростом нагрузки и развитием микросервисов необходимость в асинхронности только росла.
gevent, однако, не был мэйнстримным выбором для асинхронных сервисов: видимо,
monkey-patching стандартной библиотеки - всё-таки, рискованное решение. Помимо идеи, мой новый подход имеет не много общего с gevent. Разве что, greenlet у меня тоже в качестве зависимости - но, опять же, в другом ключе.

Вторым так называемым источником вдохновения стала sql-алхимия с её странным плагином для асинхронности. Как-то у меня состоялась небольшая [переписка](https://github.com/Bi-Coloured-Python-Rock-Snake/readme/issues/3) с Майком Байером, как раз по вопросу использования в алхимии хака с гринлетами, где я выразил своё мнение, что, мол, дешёвая штука, никуда не годная, антипаттерн для учебников. Я уже был готов представить неопровержимые аргументы, но потом немного подумал... и ещё немного подумал - и решил, что в этом что-то есть.